{"version":3,"file":"static/js/856.daf7d901.chunk.js","mappings":"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","sources":["components/costs/itemCosts.tsx","components/costs/listCosts.tsx","pages/costs.tsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {CostsInterface} from \"../contracts/userInterface\";\r\nimport {Link, useLocation} from \"react-router-dom\";\r\nimport callApi from \"../../helpers/callApi\";\r\nimport {toast} from \"react-toastify\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deleteCost, setCosts} from \"../../store/costs\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\n\r\ninterface PropsInterface {\r\n    data: CostsInterface\r\n}\r\n\r\nconst ItemCosts = ({data}: PropsInterface) => {\r\n    const dispatch = useDispatch()\r\n    const location = useLocation()\r\n\r\n    const [show, setShow] = useState<boolean>(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    let deleteHandler = async () => {\r\n        let res = await callApi().delete(`/configs/${data.id}`);\r\n\r\n        try {\r\n            dispatch(deleteCost(data.id))\r\n            callApi().get(`/configs${location?.search}`).then(response => dispatch(setCosts(response.data.result)))\r\n            toast.success(res.data.message.message, {\r\n                position: \"bottom-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const copyHandler = ()=>{\r\n        // @ts-ignore\r\n        navigator.clipboard.writeText(data.url);\r\n        toast.success(\"کپی با موفقیت انجام شد.\", {\r\n            position: \"bottom-right\",\r\n            autoClose: 2000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            theme: \"light\",\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <tr className=\"cost-row tr-border-color border\">\r\n                <td>\r\n                </td>\r\n                <td>1</td>\r\n                 {/*@ts-ignore*/}\r\n                <td>{data.name}</td>\r\n                <td className=\"text-nowrap\">{data.user.name}</td>\r\n                <td className=\"text-nowrap\">{data.created_at}</td>\r\n                {/*@ts-ignore*/}\r\n                <td className=\"text-nowrap\">{data.token}</td>\r\n                <td className=\"text-center text-nowrap\">\r\n                    <button onClick={copyHandler} className=\"btn btn-alt-success cost-delete-btn ml-1\">کپی آدرس کانفیگ</button>\r\n                    <Link to={`/costs/${data.id}`} className=\"btn btn-alt-warning ml-1\">ویرایش</Link>\r\n                    <button onClick={handleShow} className=\"btn btn-alt-danger cost-delete-btn\">حذف</button>\r\n                </td>\r\n            </tr>\r\n\r\n            {/*Modal*/}\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header>\r\n                    <Modal.Title>آیا مطمئن هستید؟</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>بعد از حذف هزینه دیگر قادر به بازیابی نخواهید بود!</Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        انصراف\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={deleteHandler}>\r\n                        بله حذف شود\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ItemCosts;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, NavLink, useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nimport ItemCosts from \"./itemCosts\";\r\nimport { Cutting } from \"../../helpers/cutting\";\r\nimport { RootState } from \"../../store\";\r\nimport callApi from \"../../helpers/callApi\";\r\nimport { setCosts } from \"../../store/costs\";\r\n\r\nconst ListCosts = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    let location = useLocation();\r\n\r\n    const [search, setSearch] = useState('');\r\n\r\n    let costs = useSelector((state: RootState) => state.costs.costs)\r\n\r\n    useEffect(() => {\r\n        const fetchDataAndDispatch = () => {\r\n            callApi().get(`/configs${location?.search}`).then(res => dispatch(setCosts(res.data.result)));\r\n        }\r\n        \r\n        navigate(`/?query=${search}`);\r\n        // Set up interval to fetch data every 500 seconds\r\n        const intervalId = setTimeout(() => {\r\n            fetchDataAndDispatch();\r\n        }, 500); // 500 seconds in milliseconds\r\n\r\n        return () => clearInterval(intervalId);\r\n    }, [search])\r\n    return (\r\n        <div>\r\n            <div className=\"row js-appear-enabled animated fadeIn\" data-toggle=\"appear\">\r\n                {/* Row #3 */}\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"block block-rounded block-bordered\">\r\n                        <div className=\"block-header block-header-default border-b justify-content-between\">\r\n                            <h3 className=\"block-title\">لیست کاربران</h3>\r\n                            <div>\r\n                                <input className=\"px-1\" value={search} onChange={(e) => setSearch(e.target.value)} placeholder=\"جستجوی کاربر\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"block-content\">\r\n                            <div className=\"table-responsive\">\r\n                                <table className=\"table table-borderless\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th />\r\n                                            <th>#</th>\r\n                                            <th>نام کاربر</th>\r\n                                            <th>مدیر اضافه کننده</th>\r\n                                            <th>تاریخ</th>\r\n                                            <th>توکن</th>\r\n                                            <th className=\"text-center\">عملیات</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {\r\n                                            costs?.data?.map((item) => (\r\n                                                <ItemCosts key={item.id} data={item} />\r\n                                            ))\r\n                                        }\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                            <nav>\r\n                                <ul className=\"pagination\">\r\n                                    <li className=\"page-item disabled\" aria-disabled=\"true\" aria-label=\"« قبلی\">\r\n                                        <Link className=\"page-link\" to={{\r\n                                            pathname: `/`,\r\n                                            search: costs?.links?.prev ? Cutting(costs?.links?.prev, 'page=') : ''\r\n                                        }} rel=\"next\" aria-label=\"بعدی »\">‹</Link>\r\n                                    </li>\r\n                                    {\r\n                                        costs?.meta.links.map((item, index) => {\r\n                                            return index != 0 && index + 1 != costs?.meta.links.length &&\r\n                                                <li className={`page-item ${item.active ? 'active' : ''}`}\r\n                                                    key={index}>\r\n                                                    <NavLink to={{\r\n                                                        pathname: `/`,\r\n                                                        search: item.url ? Cutting(item.url, '?') : ''\r\n                                                    }} className=\"page-link\">{item.label}</NavLink>\r\n                                                </li>\r\n                                        }\r\n                                        )\r\n                                    }\r\n                                    <li className=\"page-item\">\r\n                                        <Link className=\"page-link\" to={{\r\n                                            pathname: `/`,\r\n                                            search: costs?.links?.next ? Cutting(costs?.links?.next, 'page=') : ''\r\n                                        }}>›</Link>\r\n                                    </li>\r\n                                </ul>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* END Row #3 */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ListCosts;\r\n","import React from 'react';\r\n\r\nimport ListCosts from \"../components/costs/listCosts\";\r\n\r\nconst Costs = () => {\r\n    return (\r\n        <div>\r\n            <div className='content'>\r\n                {/*<CostFilter/>*/}\r\n                <ListCosts/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Costs;\r\n"],"names":["data","dispatch","useDispatch","location","useLocation","useState","show","setShow","handleClose","deleteHandler","callApi","delete","id","res","deleteCost","get","search","then","response","setCosts","result","toast","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","err","console","log","className","name","user","created_at","token","onClick","navigator","clipboard","writeText","url","to","Modal","onHide","Button","variant","navigate","useNavigate","setSearch","costs","useSelector","state","useEffect","intervalId","setTimeout","clearInterval","value","onChange","e","target","placeholder","map","item","pathname","links","prev","Cutting","rel","meta","index","length","active","label","next"],"sourceRoot":""}